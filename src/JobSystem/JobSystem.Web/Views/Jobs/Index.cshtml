@model JobSystem.ViewModels.Jobs.JobsIndexViewModel
@{
    ViewBag.Title = "Jobs";
}

@section styles {
    @Styles.Render("~/Content/jobsIndex")
}

@if (User.IsInRole("Firm"))
{
    <div class="row">
        @Html.ActionLink("Add job offer", "AddJob", null, new { @class = "btn btn-primary" })
    </div>
}

@using (Html.BeginForm("Index", "Jobs", FormMethod.Get, new { @class = "form-horizontal", role = "form" }))
{
    <div class="row">
        <div class="form-group">
            <div class="col-md-6">
                @Html.TextBox("query")
            </div>
            <div class="col-md-6">
                <input type="submit" class="btn btn-default" value="Search" />
            </div>
        </div>
    </div>
}

@*
    - Partial view for list items
    - View model for list entry
*@

<!--product start here-->
<div class="product">
    <div class="container">
        <div class="product-main">
            <div class=" product-menu-bar">
                <div class="col-md-3 prdt-right">
                    <div class="w_sidebar">
                        <section class="sky-form">
                            <h1>Categories</h1>
                            <div class="row1 scroll-pane">
                                <div class="col col-4">
                                    <label class="checkbox"><input type="checkbox" name="checkbox" checked=""><i></i>Coming soon</label>
                                </div>
                                <div class="col col-4">
                                    <label class="checkbox"><input type="checkbox" name="checkbox"><i></i>Coming soon</label>
                                    <label class="checkbox"><input type="checkbox" name="checkbox"><i></i>Coming soon</label>
                                    <label class="checkbox"><input type="checkbox" name="checkbox"><i></i>Coming soon</label>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
            </div>
            <div class="col-md-9 product-block">
                @foreach (var job in Model.Jobs)
                {
                        <div class="col-md-12 home-grid">
                            <div class="home-product-main">
                                <div class="home-product-bottom">
                                    <h3>@Html.ActionLink(job.Title, "JobDetails", new { id = job.Id })</h3>
                                    <p>Added by: @job.AddedBy.UserName</p>
                                </div>
                                <div class="srch">
                                    <span>@Html.ActionLink("Details", "JobDetails", new { id = job.Id })</span>
                                </div>
                            </div>
                        </div>
                        <div class="clearfix"> </div>
                }
            </div>
        </div>
    </div>
</div>
<!--product end here-->

<div class="row">
    <div class="text-center">
        <ul class="pagination">
            @for (int i = 0; i < Model.TotalPagesCount; i++)
            {
                <li>@Html.ActionLink((i + 1).ToString(), "Index", new { pageNumber = i + 1, query = Model.Query })</li>
            }
        </ul>
    </div>
</div>